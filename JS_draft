












//TODO meter a funcao  de criar modulos a partir de varios Ids  
/*
var ModuleIds = document.querySelectorAll('*[id^="moduleID"]')
console.log(ModuleIds);
var modules_available;
for (var i = 0; i < ModuleIds.length; i++) {
  
  //console.log(i);
  //console.log(ModuleIds[i]);
  
  if(i=ModuleIds.length){
    //modules_available += "#"+ModuleIds[i].id+";";
    console.log("sup");
    console.log(ModuleIds[i])
  } else {
    console.log("oi");
  }
  
}

console.log(modules_available);
*/




//TODO Criar Modulos a partir do menu e acrescentar event listeners
/*
var ModulesCreators = document.getElementsByClassName("moduleID");

var myFunction = function(id) {
  
  var divNova = document.createElement("div");
  var n_modules = document.querySelectorAll('*[id^="module_div"]').length;
  //console.log(n_modules/2);
  n_modules = n_modules/2 + 1;
  divNova.id="module_div"+n_modules;
  divNova.innerHTML = '<div id="module_div'+n_modules+'header">ID: '+id+'</div> <svg height="300" width="300"><path d="M 100 100 L 200 200 H 10 V 40 H 70" fill="#59fa81" stroke="#d85b49" stroke-width="3" /></svg>';

  //proximas tres linhas servem para atribuir os estilos as divs criadas
  var sheet = document.createElement('style')
  sheet.innerHTML = "#module_div"+n_modules+"{position: absolute;z-index: 9;background-color: #f1f1f1;text-align: center;border: 1px solid #d3d3d3;}#module_div"+n_modules+"header {padding: 10px;cursor: move;z-index: 10;background-color: #2196F3;color: #fff;}";
  document.body.appendChild(sheet);
  
  document.getElementById("modules_space").appendChild(divNova);
  dragElement(document.getElementById("module_div"+n_modules));
};


for (var i = 0; i < ModulesCreators.length; i++) {
  var id = ModulesCreators[i].id;
  ModulesCreators[i].addEventListener('click', myFunction(id), False);
}
*/




/*
//click event in the side bar modules
document.getElementById("moduleID").addEventListener("click", function(){

  var divNova = document.createElement("div");
  var n_modules = document.querySelectorAll('*[id^="module_div"]').length;
  //console.log(n_modules/2);
  n_modules = n_modules/2 + 1;
  divNova.id="module_div"+n_modules;
  divNova.innerHTML = '<div id="module_div'+n_modules+'header">New module name</div> <svg height="300" width="300"><path d="M 100 100 L 200 200 H 10 V 40 H 70" fill="#59fa81" stroke="#d85b49" stroke-width="3" /></svg>';

  //proximas tres linhas servem para atribuir os estilos as divs criadas
  var sheet = document.createElement('style')
  sheet.innerHTML = "#module_div"+n_modules+"{position: absolute;z-index: 9;background-color: #f1f1f1;text-align: center;border: 1px solid #d3d3d3;}#module_div"+n_modules+"header {padding: 10px;cursor: move;z-index: 10;background-color: #2196F3;color: #fff;}";
  document.body.appendChild(sheet);



  document.getElementById("modules_space").appendChild(divNova);
  dragElement(document.getElementById("module_div"+n_modules));



});



function dragElement(elmnt) {
  //console.log("yo. you touched my module -.-");
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "header")) {

    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
  } else {
    elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    // get the mouse cursor position at startup:
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }


  function closeDragElement() {
    
    document.onmouseup = null;
    document.onmousemove = null;
  }
} 
*/